(function(a){a.backstretch=function(m,j,f,i){var b={centeredX:true,centeredY:true,speed:0},q=a("#"+m),s=q.data("settings")||b,o=q.data("settings"),h,t,n,d,e,g,r,p,k;if(f&&typeof f=="object"){a.extend(s,f)}if(f&&typeof f=="function"){i=f}a(document).ready(function(){var F=window,v=navigator.userAgent,y=navigator.platform,E=v.match(/AppleWebKit\/([0-9]+)/),C=!!E&&E[1],x=v.match(/Fennec\/([0-9]+)/),A=!!x&&x[1],B=v.match(/Opera Mobi\/([0-9]+)/),u=!!B&&B[1],z=v.match(/MSIE ([0-9]+)/),D=!!z&&z[1];t=!(((y.indexOf("iPhone")>-1||y.indexOf("iPad")>-1||y.indexOf("iPod")>-1)&&C&&C<534)||(F.operamini&&({}).toString.call(F.operamini)==="[object OperaMini]")||(B&&u<7458)||(v.indexOf("Android")>-1&&C&&C<533)||(A&&A<6)||("palmGetResource" in window&&C&&C<534)||(v.indexOf("MeeGo")>-1&&v.indexOf("NokiaBrowser/8.5.0")>-1)||(D&&D<=6));h=t?a(window):a(document);n=t&&window.innerHeight;window.scrollTo(0,1);l()});return this;function l(){if(j){var u;if(q.length==0){q=a().css({left:0,top:0,position:t?"fixed":"absolute",overflow:"hidden",zIndex:-999999,margin:0,padding:0,height:"100%",width:"100%"})}else{q.find("img").addClass("deleteable")}u=a("<img />").css({position:"absolute",display:"none",margin:0,padding:0,border:"none",zIndex:-999999}).bind("load",function(x){var y=a(this),w,v;y.css({width:"auto",height:"auto"});w=this.width||a(x.target).width();v=this.height||a(x.target).height();d=w/v;c();y.fadeIn(s.speed,function(){q.find(".deleteable").remove();if(typeof i=="function"){i()}})}).appendTo(q);q.data("settings",s);u.attr("src",j);a(window).unbind("resize.backstretch").bind("resize.backstretch",function(){if("onorientationchange" in window){if(window.pageYOffset===0){window.scrollTo(0,1)}}c()})}}function c(){try{k={left:0,top:0},rootWidth=g=h.width(),rootHeight=n?window.innerHeight:h.height(),r=g/d;if(r>=rootHeight){p=(r-rootHeight)/2;if(s.centeredY){k.top="-"+p+"px"}}else{r=rootHeight;g=r*d;p=(g-rootWidth)/2;if(s.centeredX){k.left="-"+p+"px"}}q.css({width:rootWidth,height:rootHeight}).find("img:not(.deleteable)").css({width:g,height:r}).css(k)}catch(u){}}}})(jQuery);